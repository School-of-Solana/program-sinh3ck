/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  isProgramError,
  type Address,
  type SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM,
  type SolanaError,
} from 'gill';
import { SOLCHAT_PROGRAM_ADDRESS } from '../programs';

/** UsernameTooLong: Username too long */
export const SOLCHAT_ERROR__USERNAME_TOO_LONG = 0x1770; // 6000
/** ChannelNameTooLong: Channel name too long */
export const SOLCHAT_ERROR__CHANNEL_NAME_TOO_LONG = 0x1771; // 6001
/** InsufficientPermissions: Insufficient Permissions */
export const SOLCHAT_ERROR__INSUFFICIENT_PERMISSIONS = 0x1772; // 6002
/** CannotJoinPrivateChannel: Cannot join private channel */
export const SOLCHAT_ERROR__CANNOT_JOIN_PRIVATE_CHANNEL = 0x1773; // 6003
/** CannotChangeOwnPermissions: Cannot change own permissions */
export const SOLCHAT_ERROR__CANNOT_CHANGE_OWN_PERMISSIONS = 0x1774; // 6004
/** CannotDMYourself: Cannot DM yourself */
export const SOLCHAT_ERROR__CANNOT_D_M_YOURSELF = 0x1775; // 6005
/** SignerNotInPair: Signer not in provided pair */
export const SOLCHAT_ERROR__SIGNER_NOT_IN_PAIR = 0x1776; // 6006
/** InvalidPairOrdering: Invalid pair ordering */
export const SOLCHAT_ERROR__INVALID_PAIR_ORDERING = 0x1777; // 6007
/** InvalidChannelOrDMThread: Invalid channel or DM thread */
export const SOLCHAT_ERROR__INVALID_CHANNEL_OR_D_M_THREAD = 0x1778; // 6008
/** ChannelMemberAccountNotProvided: Channel member account not provided */
export const SOLCHAT_ERROR__CHANNEL_MEMBER_ACCOUNT_NOT_PROVIDED = 0x1779; // 6009
/** MessageContentTooLong: Message content too long */
export const SOLCHAT_ERROR__MESSAGE_CONTENT_TOO_LONG = 0x177a; // 6010
/** ReplyToMessageIDRequired: Reply to message ID required */
export const SOLCHAT_ERROR__REPLY_TO_MESSAGE_I_D_REQUIRED = 0x177b; // 6011
/** InvalidEmoji: Invalid Emoji */
export const SOLCHAT_ERROR__INVALID_EMOJI = 0x177c; // 6012
/** TooManyReactions: Too many reactions */
export const SOLCHAT_ERROR__TOO_MANY_REACTIONS = 0x177d; // 6013

export type SolchatError =
  | typeof SOLCHAT_ERROR__CANNOT_CHANGE_OWN_PERMISSIONS
  | typeof SOLCHAT_ERROR__CANNOT_D_M_YOURSELF
  | typeof SOLCHAT_ERROR__CANNOT_JOIN_PRIVATE_CHANNEL
  | typeof SOLCHAT_ERROR__CHANNEL_MEMBER_ACCOUNT_NOT_PROVIDED
  | typeof SOLCHAT_ERROR__CHANNEL_NAME_TOO_LONG
  | typeof SOLCHAT_ERROR__INSUFFICIENT_PERMISSIONS
  | typeof SOLCHAT_ERROR__INVALID_CHANNEL_OR_D_M_THREAD
  | typeof SOLCHAT_ERROR__INVALID_EMOJI
  | typeof SOLCHAT_ERROR__INVALID_PAIR_ORDERING
  | typeof SOLCHAT_ERROR__MESSAGE_CONTENT_TOO_LONG
  | typeof SOLCHAT_ERROR__REPLY_TO_MESSAGE_I_D_REQUIRED
  | typeof SOLCHAT_ERROR__SIGNER_NOT_IN_PAIR
  | typeof SOLCHAT_ERROR__TOO_MANY_REACTIONS
  | typeof SOLCHAT_ERROR__USERNAME_TOO_LONG;

let solchatErrorMessages: Record<SolchatError, string> | undefined;
if (process.env.NODE_ENV !== 'production') {
  solchatErrorMessages = {
    [SOLCHAT_ERROR__CANNOT_CHANGE_OWN_PERMISSIONS]: `Cannot change own permissions`,
    [SOLCHAT_ERROR__CANNOT_D_M_YOURSELF]: `Cannot DM yourself`,
    [SOLCHAT_ERROR__CANNOT_JOIN_PRIVATE_CHANNEL]: `Cannot join private channel`,
    [SOLCHAT_ERROR__CHANNEL_MEMBER_ACCOUNT_NOT_PROVIDED]: `Channel member account not provided`,
    [SOLCHAT_ERROR__CHANNEL_NAME_TOO_LONG]: `Channel name too long`,
    [SOLCHAT_ERROR__INSUFFICIENT_PERMISSIONS]: `Insufficient Permissions`,
    [SOLCHAT_ERROR__INVALID_CHANNEL_OR_D_M_THREAD]: `Invalid channel or DM thread`,
    [SOLCHAT_ERROR__INVALID_EMOJI]: `Invalid Emoji`,
    [SOLCHAT_ERROR__INVALID_PAIR_ORDERING]: `Invalid pair ordering`,
    [SOLCHAT_ERROR__MESSAGE_CONTENT_TOO_LONG]: `Message content too long`,
    [SOLCHAT_ERROR__REPLY_TO_MESSAGE_I_D_REQUIRED]: `Reply to message ID required`,
    [SOLCHAT_ERROR__SIGNER_NOT_IN_PAIR]: `Signer not in provided pair`,
    [SOLCHAT_ERROR__TOO_MANY_REACTIONS]: `Too many reactions`,
    [SOLCHAT_ERROR__USERNAME_TOO_LONG]: `Username too long`,
  };
}

export function getSolchatErrorMessage(code: SolchatError): string {
  if (process.env.NODE_ENV !== 'production') {
    return (solchatErrorMessages as Record<SolchatError, string>)[code];
  }

  return 'Error message not available in production bundles.';
}

export function isSolchatError<TProgramErrorCode extends SolchatError>(
  error: unknown,
  transactionMessage: {
    instructions: Record<number, { programAddress: Address }>;
  },
  code?: TProgramErrorCode
): error is SolanaError<typeof SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM> &
  Readonly<{ context: Readonly<{ code: TProgramErrorCode }> }> {
  return isProgramError<TProgramErrorCode>(
    error,
    transactionMessage,
    SOLCHAT_PROGRAM_ADDRESS,
    code
  );
}
