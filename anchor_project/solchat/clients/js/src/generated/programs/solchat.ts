/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  containsBytes,
  fixEncoderSize,
  getBytesEncoder,
  type Address,
  type ReadonlyUint8Array,
} from 'gill';
import {
  type ParsedChangeChannelSettingsInstruction,
  type ParsedChangeUserChannelPermissionsInstruction,
  type ParsedCreateChannelInstruction,
  type ParsedCreateDmInstruction,
  type ParsedCreateUserInstruction,
  type ParsedExitChannelInstruction,
  type ParsedInviteToChannelInstruction,
  type ParsedJoinChannelInstruction,
  type ParsedReactToMessageInstruction,
  type ParsedRemoveFromChannelInstruction,
  type ParsedSendMessageInstruction,
} from '../instructions';

export const SOLCHAT_PROGRAM_ADDRESS =
  '2sLSWFDEgyXYQgwRVeUsJ5RrPKtaJfacRMGrHiKTE4UT' as Address<'2sLSWFDEgyXYQgwRVeUsJ5RrPKtaJfacRMGrHiKTE4UT'>;

export enum SolchatAccount {
  Channel,
  ChannelMember,
  DMThread,
  Message,
  MessageMetadata,
  UserProfile,
}

export function identifySolchatAccount(
  account: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): SolchatAccount {
  const data = 'data' in account ? account.data : account;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([49, 159, 99, 106, 220, 87, 219, 88])
      ),
      0
    )
  ) {
    return SolchatAccount.Channel;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([165, 1, 218, 177, 114, 130, 205, 10])
      ),
      0
    )
  ) {
    return SolchatAccount.ChannelMember;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([154, 208, 143, 70, 54, 23, 136, 140])
      ),
      0
    )
  ) {
    return SolchatAccount.DMThread;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([110, 151, 23, 110, 198, 6, 125, 181])
      ),
      0
    )
  ) {
    return SolchatAccount.Message;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([99, 170, 51, 219, 112, 22, 245, 83])
      ),
      0
    )
  ) {
    return SolchatAccount.MessageMetadata;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([32, 37, 119, 205, 179, 180, 13, 194])
      ),
      0
    )
  ) {
    return SolchatAccount.UserProfile;
  }
  throw new Error(
    'The provided account could not be identified as a solchat account.'
  );
}

export enum SolchatInstruction {
  ChangeChannelSettings,
  ChangeUserChannelPermissions,
  CreateChannel,
  CreateDm,
  CreateUser,
  ExitChannel,
  InviteToChannel,
  JoinChannel,
  ReactToMessage,
  RemoveFromChannel,
  SendMessage,
}

export function identifySolchatInstruction(
  instruction: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): SolchatInstruction {
  const data = 'data' in instruction ? instruction.data : instruction;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([51, 33, 5, 116, 154, 144, 72, 121])
      ),
      0
    )
  ) {
    return SolchatInstruction.ChangeChannelSettings;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([161, 232, 65, 97, 119, 214, 199, 206])
      ),
      0
    )
  ) {
    return SolchatInstruction.ChangeUserChannelPermissions;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([37, 105, 253, 99, 87, 46, 223, 20])
      ),
      0
    )
  ) {
    return SolchatInstruction.CreateChannel;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([46, 5, 70, 190, 39, 119, 37, 200])
      ),
      0
    )
  ) {
    return SolchatInstruction.CreateDm;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([108, 227, 130, 130, 252, 109, 75, 218])
      ),
      0
    )
  ) {
    return SolchatInstruction.CreateUser;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([239, 116, 36, 147, 137, 0, 107, 233])
      ),
      0
    )
  ) {
    return SolchatInstruction.ExitChannel;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([203, 52, 194, 48, 173, 5, 43, 235])
      ),
      0
    )
  ) {
    return SolchatInstruction.InviteToChannel;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([124, 39, 115, 89, 217, 26, 38, 29])
      ),
      0
    )
  ) {
    return SolchatInstruction.JoinChannel;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([221, 59, 73, 208, 243, 164, 247, 43])
      ),
      0
    )
  ) {
    return SolchatInstruction.ReactToMessage;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([100, 246, 150, 228, 225, 2, 145, 22])
      ),
      0
    )
  ) {
    return SolchatInstruction.RemoveFromChannel;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([57, 40, 34, 178, 189, 10, 65, 26])
      ),
      0
    )
  ) {
    return SolchatInstruction.SendMessage;
  }
  throw new Error(
    'The provided instruction could not be identified as a solchat instruction.'
  );
}

export type ParsedSolchatInstruction<
  TProgram extends string = '2sLSWFDEgyXYQgwRVeUsJ5RrPKtaJfacRMGrHiKTE4UT',
> =
  | ({
      instructionType: SolchatInstruction.ChangeChannelSettings;
    } & ParsedChangeChannelSettingsInstruction<TProgram>)
  | ({
      instructionType: SolchatInstruction.ChangeUserChannelPermissions;
    } & ParsedChangeUserChannelPermissionsInstruction<TProgram>)
  | ({
      instructionType: SolchatInstruction.CreateChannel;
    } & ParsedCreateChannelInstruction<TProgram>)
  | ({
      instructionType: SolchatInstruction.CreateDm;
    } & ParsedCreateDmInstruction<TProgram>)
  | ({
      instructionType: SolchatInstruction.CreateUser;
    } & ParsedCreateUserInstruction<TProgram>)
  | ({
      instructionType: SolchatInstruction.ExitChannel;
    } & ParsedExitChannelInstruction<TProgram>)
  | ({
      instructionType: SolchatInstruction.InviteToChannel;
    } & ParsedInviteToChannelInstruction<TProgram>)
  | ({
      instructionType: SolchatInstruction.JoinChannel;
    } & ParsedJoinChannelInstruction<TProgram>)
  | ({
      instructionType: SolchatInstruction.ReactToMessage;
    } & ParsedReactToMessageInstruction<TProgram>)
  | ({
      instructionType: SolchatInstruction.RemoveFromChannel;
    } & ParsedRemoveFromChannelInstruction<TProgram>)
  | ({
      instructionType: SolchatInstruction.SendMessage;
    } & ParsedSendMessageInstruction<TProgram>);
